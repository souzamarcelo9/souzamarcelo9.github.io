var DpWidgetHelpers={_insertAfter:function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},_removeElement:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},_isJsonString:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},_getId:function(){return Math.random().toString(36).substr(2,10)},_getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},_calculateWidgetPosition:function(t){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return(t.getBoundingClientRect().top-document.body.getBoundingClientRect().top)/e<1?"top":"bottom"}};!function(){var a=document.querySelectorAll("[data-zl-widget-facility]"),d={},r={};d.createModal=function(){var t,e=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("a");(t=document.createElement("style")).type="text/css",t.innerHTML="#overlay-"+r.UID+" {background: #000; width: 100%; height: 100%; position: fixed; opacity: .5; filter: alpha(opacity=50); z-index: 1000000; display: none; top:0; right: 0; left: 0; bottom: 0;}#modal-"+r.UID+" {overflow-y: scroll; position: fixed; left: -99999px; top: -99999px; right: 0; bottom: 0; height: 100%; width: 100%; visibility: hidden; z-index: 1100000;}#modal-content-"+r.UID+" {z-index: 1200000; width: "+r.iframeParams.width+"; padding: 0; position: relative; margin: 50px auto; border-radius: 4px; background: url('//platform.docplanner.com/img/general/user-interface/loader-ready-white.gif') no-repeat center center #fff;}.modal-open-"+r.UID+"{overflow: hidden;}#modal-content-"+r.UID+" iframe {position: absolute; left: -99999px; top: -99999px;}#modal-close-"+r.UID+" {background-image: url('//platform.docplanner.com/img/general/libraries/fancybox-v2/fancybox_sprite@2x.png'); background-size: 44px 152px; position: absolute; top: -18px; right: -18px;width: 36px;height: 36px;cursor: pointer;z-index: 1300000;}",document.head.appendChild(t),e.setAttribute("id","overlay-"+r.UID),i.setAttribute("id","modal-"+r.UID),n.setAttribute("id","modal-content-"+r.UID),a.setAttribute("id","modal-close-"+r.UID),document.body.appendChild(e),document.body.appendChild(i),i.appendChild(n),n.appendChild(a),r.$modal={overlay:document.getElementById("overlay-"+r.UID),modal:document.getElementById("modal-"+r.UID),modalContent:document.getElementById("modal-content-"+r.UID)}},d.createInlineDiv=function(t){var e=document.createElement("div");return e.setAttribute("id","widget-content-"+r.UID),t.innerHTML="",t.appendChild(e),document.getElementById("widget-content-"+r.UID)},d.createIframe=function(t,e){var i=document.createElement("iframe"),n=r.getHash(t);i.setAttribute("id","iframe-"+n),i.setAttribute("name","iframe-facility-widget-"+n),i.setAttribute("src",t),i.style.width=r.iframeParams.width,i.style.height=r.iframeParams.height+"px",i.style.border=r.iframeParams.border,e.appendChild(i)},d.getSrc=function(t){var e=t.getAttribute("data-zl-widget-facility"),i=t.getAttribute("data-zl-widget-specialization"),n=t.getAttribute("data-zl-widget-address"),a=t.getAttribute("data-zlw-type"),o=document.location.href,a=a||"facility-big";return"https://"+r.domain+"/"+r.prefix+"/"+a+"/"+e+(n?"/"+n:"")+(i?"/"+i:"")+"?referer="+o+(i?"&hidefilters=true":"")+"&widget_position="+d.calculateWidgetPosition(t)},d.runWidgets=function(){for(var t=0;t<a.length;++t){var e=d.getSrc(a[t]),i="inline"===a[t].getAttribute("data-placement")?"inline":"modal";switch(r.iframeParams.width=a[t].getAttribute("data-width")||{inline:"100%",modal:"1010px"}[i],i){case"inline":var n=d.createInlineDiv(a[t]);d.createIframe(e,n);break;case"modal":!1===r.isMobile()?(d.createIframe(e,r.$modal.modalContent),a[t].onclick=function(){var t=r.getHash(e);return function(){return d.openModal(t),!1}}()):a[t].onclick=function(){return document.location.href=e,!1}}}},d.openModal=function(t){document.body.setAttribute("class",document.body.className+" modal-open-"+r.UID),document.getElementById("iframe-"+t).style.visibility="visible",document.getElementById("iframe-"+t).style.position="static",document.getElementById("modal-content-"+r.UID).style.width=document.getElementById("iframe-"+t).style.width,r.$modal.overlay.style.display="block",r.$modal.modal.style.left=0,r.$modal.modal.style.top=0,r.$modal.modal.style.visibility="visible",r.$modal.modal.scrollTop=0,r.$modal.modal.onclick=function(){d.closeModal(t)}},d.closeModal=function(t){document.body.classList.remove("modal-open-"+r.UID),document.getElementById("iframe-"+t).style.visibility="hidden",document.getElementById("iframe-"+t).style.position="absolute",r.$modal.overlay.style.display="none",r.$modal.modal.style.visibility="hidden",r.$modal.modal.style.left="-99999px",r.$modal.modal.style.top="-99999px"},d.receiveMessages=function(){window.addEventListener("message",function(t){var e={};try{e=JSON.parse(t.data)}catch(t){}void 0===e.hash||void 0===e.height||(t=!(t=document.getElementById("iframe-"+e.hash))&&""!=e.baseHash?document.getElementById("iframe-"+e.baseHash):t)&&(t.style.height=e.height+"px")},!1)},d.calculateWidgetPosition=function(t){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return(t.getBoundingClientRect().top-document.body.getBoundingClientRect().top)/e<1?"top":"bottom"},d.init=void(0<a.length&&(r.UID=Math.floor(1e3*Math.random()+1),r.$modal={},r.prefix="ajax/marketing/facility/widget",r.domain=document.getElementById("zl-facility-widget").getAttribute("src").match(/https?:\/\/([^\/]+)/)[1],r.iframeParams={width:1010,height:200,border:0},r.getHash=function(t){var e=0;t=t.substring(0,t.lastIndexOf("?"));for(var i=0;i<t.length;i++)e+=t.charCodeAt(i);return e},r.isMobile=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e},d.createModal(),d.runWidgets(),d.receiveMessages()))}(),function(){var k={};function E(){var t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"==t?"onmessage":"message",function(t){var e,o,i,n,a,d,r,l=t.message?"message":"data",s=DpWidgetHelpers._isJsonString(t[l])?t[l]:"{}",t=JSON.parse(s);function c(t){var e,i,n,a=t.id;k[a].animationFinished||(e=document.querySelector('[data-id="'+a+'"]'),i=t.height,n=window.pageYOffset,i<=(t=window.innerHeight)&&o+i<=n+t&&(k[a].animationFinished=!0,e.contentWindow.postMessage("iframe_animation","*")))}void 0!==t.id&&void 0!==t.height&&(l=document.querySelector('[data-id="'+t.id+'"]'),s=0<t.height?t.height+"px":"100%","affixed_with_visits"==t.widgetType&&0!==function(t){return Object.keys(t).length}(a=t)&&(d='[data-id="'+a.id+'"]',r=document.querySelector(d).getBoundingClientRect().top,window.addEventListener("scroll",function(){var t,e,i=document.querySelector(d);"0px"!==i.style.bottom&&(t=a.height,e=window.pageYOffset,r+t+10<=e&&0==i.classList.contains("top-affixed")&&(i.className="top-affixed",i.style.cssText=i.style.cssText+";position: fixed; z-index: 1000; top:0;",i.contentWindow.postMessage("iframe_affixed","*")),e<=r+5&&0==i.classList.contains("top-not-affixed")&&(i.className="top-not-affixed",i.style.cssText=i.style.cssText+";position: inherit; z-index: 1000;",i.contentWindow.postMessage("iframe_not_affixed","*")))}),window.addEventListener("resize",function(){var t=document.querySelector(d),e=a.height,i=a.buttonHeight+22;DpWidgetHelpers._getWindowWidth()<768&&(t.style.height=i+"px"),768<=DpWidgetHelpers._getWindowWidth()&&(t.style.height=e+"px"),768<DpWidgetHelpers._getWindowWidth()&&"0px"===t.style.bottom&&t.contentWindow.postMessage("iframe_not_responsive","*")})),"button_calendar_floating_medium"==t.widgetType&&(l.contentWindow.postMessage(t.id,"*"),t.vueWidget?(l.style.height=t.height+"px",l.style.width=t.width+"px"):(i=t.id,n=window.addEventListener?"addEventListener":"attachEvent",(0,window[n])("attachEvent"==n?"onmessage":"message",function(t){var e=t.message?"message":"data",t=DpWidgetHelpers._isJsonString(t[e])?t[e]:"{}",e=JSON.parse(t);i==e.id&&void 0!==e.resizeHeight&&(t='[data-id="'+e.id+'"]',document.querySelector(t).style.height=e.resizeHeight+"px")}))),1==t.animation&&0!==function(t){return Object.keys(t).length}(e=t)&&(n='[data-id="'+e.id+'"]',o=document.querySelector(n).getBoundingClientRect().top,c(e),window.addEventListener("scroll",function(){c(e)}),window.addEventListener("resize",function(){c(e)})),"search_bar"!==t.widgetType&&"calendar_floating_button"!==t.widgetType&&(l.style.cssText=l.style.cssText+";height:"+s,l.style.height=s))},!1)}function I(t,e){var i="https://widgets."+t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0];return i=-1!==e.indexOf("://local")?"https://local.widgets."+t.replace("local.","").split("/")[0]:i}function p(i,n){window.addEventListener("message",function(t){var e=t.message?"message":"data",e=DpWidgetHelpers._isJsonString(t[e])?t[e]:"{}",e=JSON.parse(e);t.origin!=="https://"+i||"resize_iframe"!==e.action||isNaN(e.height)||(document.querySelector('[data-id="'+n+'"]').style.height=e.height+"px")},!1)}!function(){for(var t=document.querySelectorAll(".zl-url, #zl-url, #zl-widget"),e=0;e<t.length;e++){var i=t[e],n=!1,a=DpWidgetHelpers._calculateWidgetPosition(i),o=i.getAttribute("href"),d=encodeURIComponent(document.location.href),r=i.getAttribute("zlw-doctor")||i.getAttribute("data-zlw-doctor"),l=i.getAttribute("zlw-type")||i.getAttribute("data-zlw-type"),s=i.getAttribute("zlw-opinion")||i.getAttribute("data-zlw-opinion"),c=i.getAttribute("zlw-hide-branding")||i.getAttribute("data-zlw-hide-branding"),m=i.getAttribute("zlw-calendar-id")||i.getAttribute("data-zlw-calendar-id"),g=i.getAttribute("zlw-address-id")||i.getAttribute("data-zlw-address-id"),u=i.getAttribute("zlw-header")||i.getAttribute("data-zlw-header"),h=i.getAttribute("zlw-content")||i.getAttribute("data-zlw-content"),p=i.getAttribute("zlw-full-width")||i.getAttribute("data-zlw-full-width")||i.getAttribute("zlw-disable-mw")||i.getAttribute("data-zlw-disable-mw"),w="widget",b=i.getAttribute("zlw-website-template-id")||i.getAttribute("data-zlw-website-template-id"),f=i.getAttribute("zlw-website-theme")||i.getAttribute("data-zlw-website-theme"),y=DpWidgetHelpers._getId();void 0!==i.getAttribute("data-zlw-custom-utm")&&(w=i.getAttribute("data-zlw-custom-utm"));var v=o.match(/https?:\/\/([^\/]+)/)[1],x=null,x=-1!=navigator.appVersion.indexOf("MSIE 7.")?document.createElement('<iframe frameborder="0">'):document.createElement("iframe");void 0===k[y]&&(k[y]={}),x.setAttribute("frameborder","0"),x.setAttribute("scrolling","no"),x.setAttribute("allowTransparency","true"),x.setAttribute("data-id",y);var A="//"+v+"/ajax?method=widget.show.generate&type="+l+"&opinion="+s+"&calendarId="+m+"&url="+r+"&customUtm="+w+"&id="+y+"&referer="+d+"&hide_branding="+c+"&widget_position="+a,_=I(v,o);switch("big_with_calendar"!=l&&"button_calendar_medium"!=l&&"button_calendar_floating_medium"!=l&&"certificate"!=l&&"affixed_with_visits"!=l&&"small"!=l&&"big"!=l&&"big_visit"!=l||(A="//"+v+"/ajax/marketing/doctor/widget/"+l+"/"+r+"/"+m+(c="?customUtm="+w+"&id="+y+"&header="+u+"&content="+h+"&fullwidth="+p+"&referer="+d+"&hide_branding="+c+"&widget_position="+a+"&opinion="+s),_+="/doctor/widget/"+l+"/"+r+c),"calendar_for_website"==l&&(A="//"+v+"/ajax/marketing/doctor/widget/calendar_for_website/"+r+"/"+g+"?customUtm="+w+"&id="+y+"&fullwidth="+p+"&referer="+d+"&widget_position="+a),m&&(A+="&calendar-id="+Number.parseInt(m,10)),l){case"small":s=!1,x.setAttribute("src",A),x.setAttribute("style","border:none;overflow:hidden;width:100%"),x.style.width="100%",n=!0;break;case"big":x.setAttribute("src",_),x.setAttribute("style","border:none;overflow:hidden;width:100%"),x.style.width="100%",k[y].animationFinished=!(n=!0);break;case"big_visit":case"big_with_calendar":x.setAttribute("src",A),x.setAttribute("style","border:none;overflow:hidden;width:100%"),x.style.width="100%",n=!0;break;case"calendar_for_website":x.setAttribute("src",A+"&websiteTemplateId="+b+"&websiteTheme="+f),x.setAttribute("style","border:none;overflow:hidden;width:100%"),x.style.width="100%",n=!0;break;case"button_calendar_medium":x.setAttribute("src",_),x.setAttribute("style","border:none;overflow:hidden;width:200px;height:42px"),x.style.width="200px",x.style.height="42px",n=!0;break;case"button_calendar_floating_medium":var z=450<DpWidgetHelpers._getWindowWidth()?{width:"380px",height:"240px",right:"10px",bottom:"5px"}:{width:"100%",height:"240px",right:"0",bottom:"10px"};x.setAttribute("src",_),x.setAttribute("style","border:none;overflow:hidden;height:"+z.height+";position:fixed;right:"+z.right+";bottom:"+z.bottom+";z-index:1000000000;width:"+z.width),x.style.width=z.width,n=!0;break;case"certificate":x.setAttribute("src",_),x.setAttribute("style","border:none;overflow:hidden;width:245px"),x.style.width="245px",n=!0;break;case"affixed_with_visits":x.setAttribute("src",A),x.setAttribute("style","border:none;overflow:hidden;width:100%;height:100px; z-index:1000;"),DpWidgetHelpers._getWindowWidth()<768&&(x.style.bottom=0,x.style.position="fixed"),n=!0}n&&DpWidgetHelpers._insertAfter(x,i),DpWidgetHelpers._removeElement(i)}E()}(),function(){var t=document.querySelectorAll(".zl-facility-url");0===t.length&&(t=document.querySelectorAll('[data-zlw-type*="facility-calendar"]'));for(var e=0;e<t.length;e++){var i=t[e],n=DpWidgetHelpers._calculateWidgetPosition(i),a=!1,o=i.getAttribute("href"),d=document.location.href,r=i.getAttribute("data-zlw-facility")||i.getAttribute("data-zl-widget-facility"),l=i.getAttribute("data-zlw-type"),s="true"===i.getAttribute("data-zlw-saas-only"),c=DpWidgetHelpers._getId(),m=o.match(/https?:\/\/([^\/]+)/)[1],g=null,g=-1!=navigator.appVersion.indexOf("MSIE 7.")?document.createElement('<iframe frameborder="0">'):document.createElement("iframe"),u=l.replace("-with-saas-only","").replace("-listing",""),h="facility-calendar"===u?"yes":"no";g.setAttribute("frameborder","0"),g.setAttribute("scrolling",h),g.setAttribute("allowTransparency","true"),g.setAttribute("data-id",c);n="//"+m+"/ajax/marketing/facility/widget/"+l+"/"+r+".html?&id="+c+"&referrer="+d+"&widget_position="+n+"&saas-only="+s,o=I(m,o);o+="/facility/widget/"+l+"/"+r+"?id="+c,s&&(o+="&saas-only="+s),"facility-big"===u&&(g.setAttribute("src",o),g.setAttribute("style","border:none;overflow:hidden;width:100%"),g.style.width="100%",a=!0),"certificate"===u&&(g.setAttribute("src",o),g.setAttribute("style","border:none;overflow:hidden;width:245px"),g.style.width="245px",a=!0),"facility-calendar"===u&&(g.setAttribute("src",n),g.setAttribute("style","border:none;overflow:hidden;width:100%"),g.style.width="100%",a=!0),"facility-simple-link"===u&&(g.setAttribute("src",n),g.setAttribute("style","border:none;overflow:hidden;width:100%"),g.style.width="100%",a=!0),"facility-button"===u&&(g.setAttribute("src",o),g.setAttribute("style","border:none;overflow:hidden;width:100%"),g.style.width="200px",a=!0),a&&DpWidgetHelpers._insertAfter(g,i),a&&"facility-calendar"===u&&(function(i,n){var t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"==t?"onmessage":"message",function(t){var e=t.message?"message":"data",e=DpWidgetHelpers._isJsonString(t[e])?t[e]:"{}",e=JSON.parse(e);i===e.id&&document.querySelector('iframe[data-id="'+i+'"]').contentWindow.postMessage(n,"*")})}(c,"set_resize_observer"),p(m,c)),DpWidgetHelpers._removeElement(i)}}()}();